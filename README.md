## Задание: Создайте простую микросервисную архитектуру с использованием Spring Cloud. Ваша архитектура должна включать хотя бы два микросервиса и службу распределения.

В качестве исследований решил проэмулировать процесс покупки
товаров в онлайн-магазине. Процесс покупки выполняет один микросервис,
взаимодействующий по необходимости с другими микросервисами. 
Из-за перетяжеленности кода отказался от Spring Security. 

Межсервисное взаимодействие осуществляется посредством Feign, 
поскольку все остальные (кафка и ко) требуют установки дополнительного
ПО. 

За основу проведения платежей взял Workflow модель:  

1) `OrderService` принимает запрос на создание заказа и запрашивает резервирование товаров в `CatalogService`.
2) После успешного резервирования товаров `OrderService` посылает запрос в `PaymentService` для проведения оплаты.
3) `PaymentService` проверяет баланс пользователя в `UserService`.
4) Если средств достаточно, `PaymentService` отправляет `UserServic`e запрос на списание их со счёта пользователя и переводит на счёт магазина.
5) Если оплата прошла успешно, `PaymentService` возвращает в `OrderService` статус `HttpStatus.OK`.
6) `OrderService` обновляет статус заказа и завершает процесс.
7) В случае неудачи, на любом этапе транзакции, происходит откат всех резервов.

### По пункту 4. 
В реальности `PaymentService`, после получения данных о пользователе
в `UserService`, должен бы сам провести платеж, через какую-либо
банковскую систему платежей. Собственно это и есть основная причина 
создания этого микросервиса. Но в учебных целях он просто 
обращается к `UserService`. 

## Модули.
- Config-server - обеспечивает сервисам доступ к конфигурации на GitHub.
- Eureka-server - регистрирует сервисы и позволяет находить их адреса по их именам.
- Gateway-server - обеспечивает доступ к сервисам через единый адрес и порт.
- Catalog-service - ведет учет товаров и их списание.
- User-service - хранит данные о пользователях, а так же их платежные данные.
- Payment-service - проводит транзакции оплаты заказов пользователями.
- Order-service - создает и сопровождает заказ, вплоть до момента оплаты (или отказа от заказа).
- Web-client - веб-интерфейс магазина.

## Порядок запуска:
1) ConfigServer
2) EurekaServer
3) ServiceCatalog, ServiceOrder, ServicePayment и ServiceUser
4) GatewayServer (хотя его можно в любой момент запустить)
5) WebClient


## H2-Console

http://localhost:8090/CATALOG-SERVICE/h2-console

http://localhost:8090/ORDER-SERVICE/h2-console

http://localhost:8090/PAYMENT-SERVICE/h2-console

http://localhost:8090/USER-SERVICE/h2-console

